<div class="profile-container">
  <div class="profile-banner" style="background-image: url(<%= @chef.background_photo %>)">
    <div class="profile-avatar">
      <%= cl_image_tag(@chef.photo, height: 120, width: 120, crop: :fill, :gravity => :face) %>
    </div>
  </div>

  <div class="profile-name">
    <%= @chef.name %>
  </div>

  <div class="profile-rating">
    <div class="card-rating">
      <% @chef.average_rating.times do %>
        <div class="star">
          <?xml version="1.0" encoding="UTF-8"?>
          <svg enable-background="new 0 0 59.5 56.8" version="1.1" viewBox="0 0 59.5 56.8" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <g>
              <path class="filled" d="m29.5 2.4c0.2-0.5 0.5-0.5 0.6 0l6 18.6c0.2 0.6 0.7 1 1.3 1h19.6c0.6 0 0.6 0.3 0.2 0.6l-15.8 11.5c-0.5 0.4-0.7 1-0.5 1.5l6.1 18.7c0.2 0.5-0.1 0.7-0.5 0.4l-15.9-11.6c-0.5-0.3-1.1-0.3-1.6 0l-15.9 11.6c-0.4 0.3-0.7 0.2-0.5-0.4l6.1-18.7c0.2-0.6 0-1.2-0.5-1.5l-15.9-11.5c-0.5-0.3-0.4-0.6 0.2-0.6h19.6c0.6 0 1.1-0.4 1.3-1l6.1-18.6z"/>
              <path class="filled" d="m12.7 56.8c-0.5 0-1-0.2-1.3-0.4-0.6-0.5-1.2-1.4-0.7-2.7l5.9-18.2-15.5-11.3c-1.1-0.8-1.2-1.9-1-2.7s1-1.6 2.4-1.6h19.1l5.9-18.2c0.5-1.2 1.5-1.7 2.3-1.7s1.8 0.5 2.2 1.8l5.9 18.2h19.1c1.4 0 2.1 0.8 2.4 1.5 0.2 0.7 0.1 1.8-1 2.7l-15.5 11.3 5.9 18.2c0.4 1.3-0.1 2.3-0.8 2.7-0.6 0.5-1.7 0.7-2.8-0.2l-15.4-11.2-15.5 11.3c-0.6 0.4-1.1 0.5-1.6 0.5zm1.8-1.9zm30.5 0zm2.6-1.9zm-40-29l11.7 8.5c1.2 0.9 1.6 2.4 1.3 3.7l-4.5 13.8 11.7-8.5c1.2-0.8 2.7-0.8 3.9-0.1l11.7 8.6-4.4-13.7c-0.4-1.4 0.1-2.9 1.2-3.7l11.7-8.6h-14.5c-1.4-0.1-2.6-1-3.1-2.4l-4.5-13.7-4.5 13.7c-0.5 1.4-1.7 2.3-3.1 2.4h-0.1-14.5zm23.8-21z"/>
            </g>
          </svg>
        </div>
      <% end %>
      <% (5 - @chef.average_rating).times do %>
        <div class="star">
          <?xml version="1.0" encoding="UTF-8"?>
          <svg enable-background="new 0 0 59.5 56.8" version="1.1" viewBox="0 0 59.5 56.8" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <g >
              <path d="m29.5 2.4c0.2-0.5 0.5-0.5 0.6 0l6 18.6c0.2 0.6 0.7 1 1.3 1h19.6c0.6 0 0.6 0.3 0.2 0.6l-15.8 11.5c-0.5 0.4-0.7 1-0.5 1.5l6.1 18.7c0.2 0.5-0.1 0.7-0.5 0.4l-15.9-11.6c-0.5-0.3-1.1-0.3-1.6 0l-15.9 11.6c-0.4 0.3-0.7 0.2-0.5-0.4l6.1-18.7c0.2-0.6 0-1.2-0.5-1.5l-15.9-11.5c-0.5-0.3-0.4-0.6 0.2-0.6h19.6c0.6 0 1.1-0.4 1.3-1l6.1-18.6z"/>
              <path d="m12.7 56.8c-0.5 0-1-0.2-1.3-0.4-0.6-0.5-1.2-1.4-0.7-2.7l5.9-18.2-15.5-11.3c-1.1-0.8-1.2-1.9-1-2.7s1-1.6 2.4-1.6h19.1l5.9-18.2c0.5-1.2 1.5-1.7 2.3-1.7s1.8 0.5 2.2 1.8l5.9 18.2h19.1c1.4 0 2.1 0.8 2.4 1.5 0.2 0.7 0.1 1.8-1 2.7l-15.5 11.3 5.9 18.2c0.4 1.3-0.1 2.3-0.8 2.7-0.6 0.5-1.7 0.7-2.8-0.2l-15.4-11.2-15.5 11.3c-0.6 0.4-1.1 0.5-1.6 0.5zm1.8-1.9zm30.5 0zm2.6-1.9zm-40-29l11.7 8.5c1.2 0.9 1.6 2.4 1.3 3.7l-4.5 13.8 11.7-8.5c1.2-0.8 2.7-0.8 3.9-0.1l11.7 8.6-4.4-13.7c-0.4-1.4 0.1-2.9 1.2-3.7l11.7-8.6h-14.5c-1.4-0.1-2.6-1-3.1-2.4l-4.5-13.7-4.5 13.7c-0.5 1.4-1.7 2.3-3.1 2.4h-0.1-14.5zm23.8-21z"/>
            </g>
          </svg>
        </div>
      <% end %>
    </div>
  </div>

  <div class="profile-description">
    <%= @chef.description %>
  </div>

  <% if @chef.experience == "Less than 1 year" %>
    <% experience = "17%" %>
  <% elsif @chef.experience == "1 year" %>
    <% experience = "35%" %>
  <% elsif @chef.experience == "2 years" %>
    <% experience = "70%" %>
  <% elsif @chef.experience == "3 years or more" %>
    <% experience = "100%" %>
  <% else %>
    <% experience = "1%" %>
  <% end %>

  <style>
  .highlight { width: <%= experience %>; }
    @keyframes exgrow {
      from {width: 0%;}
      to { width: <%= experience %>;}
    }
  </style>

  <h2>Experience</h2>
  <div class="h2_underline"></div>
  <div class="experience">
    <div class="experience-bar">
      <div class="highlight"></div>
    </div>
  </div>
  <div class="experience-words">
    <%= @chef.experience %>
  </div>

  <h2>Previously held positions</h2>
  <div class="h2_underline"></div>
  <div class="positions-container">
    <% @chef.positions.each do |position| %>
      <div class="row">
        <%= position.title %> at <%= position.restaurant_name %><br>
        <%= position.start_date %> to <%= position.end_date %>
      </div>
    <% end %>
  </div>

  <h2>Reviews</h2>
  <div class="h2_underline"></div>

  <% if @chef.reviews_chef.count == 0 %>

    <% if @chef.been_booked_by_restautant?(current_restaurant) %>

      <div class="reviews-none">
        <%= link_to "Be the first to review #{@chef.name}", new_chef_reviews_chef_path(@chef) %>
      </div>

    <% else %>

      <% if current_chef == @chef %>

        <div class="reviews-none">
          You have not been reviewed yet
        </div>

     <% else %>

        <div class="reviews-none">
          <%= @chef.name %> has not been reviewed yet
        </div>

      <% end %>

    <% end %>

  <% else %>

    <% if @chef.been_booked_by_restautant?(current_restaurant) %>
      <div class="reviews-none">
        <%= link_to "Leave a review for #{@chef.name}", new_chef_reviews_chef_path(@chef) %>
      </div>
    <% end %>

     <div class="reviews-container">
      <% @chef.reviews_chef.each do |rev| %>
        <!-- Start review -->
        <div class="review-row">
          <div class="review-top">
            <div class="left">
              <img src="http://res.cloudinary.com/dbaqcyzvv/image/upload/v1511801389/ob8ecwji0sxjo9pzeait.jpg" class="review-avatar">
            </div>
            <div class="right">
              <%= rev.booking.restaurant.name %><br>
              <% rev.rating.times do %>
                <div class="star">
                  <?xml version="1.0" encoding="UTF-8"?>
                  <svg enable-background="new 0 0 59.5 56.8" version="1.1" viewBox="0 0 59.5 56.8" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                    <g>
                      <path class="filled" d="m29.5 2.4c0.2-0.5 0.5-0.5 0.6 0l6 18.6c0.2 0.6 0.7 1 1.3 1h19.6c0.6 0 0.6 0.3 0.2 0.6l-15.8 11.5c-0.5 0.4-0.7 1-0.5 1.5l6.1 18.7c0.2 0.5-0.1 0.7-0.5 0.4l-15.9-11.6c-0.5-0.3-1.1-0.3-1.6 0l-15.9 11.6c-0.4 0.3-0.7 0.2-0.5-0.4l6.1-18.7c0.2-0.6 0-1.2-0.5-1.5l-15.9-11.5c-0.5-0.3-0.4-0.6 0.2-0.6h19.6c0.6 0 1.1-0.4 1.3-1l6.1-18.6z"/>
                      <path class="filled" d="m12.7 56.8c-0.5 0-1-0.2-1.3-0.4-0.6-0.5-1.2-1.4-0.7-2.7l5.9-18.2-15.5-11.3c-1.1-0.8-1.2-1.9-1-2.7s1-1.6 2.4-1.6h19.1l5.9-18.2c0.5-1.2 1.5-1.7 2.3-1.7s1.8 0.5 2.2 1.8l5.9 18.2h19.1c1.4 0 2.1 0.8 2.4 1.5 0.2 0.7 0.1 1.8-1 2.7l-15.5 11.3 5.9 18.2c0.4 1.3-0.1 2.3-0.8 2.7-0.6 0.5-1.7 0.7-2.8-0.2l-15.4-11.2-15.5 11.3c-0.6 0.4-1.1 0.5-1.6 0.5zm1.8-1.9zm30.5 0zm2.6-1.9zm-40-29l11.7 8.5c1.2 0.9 1.6 2.4 1.3 3.7l-4.5 13.8 11.7-8.5c1.2-0.8 2.7-0.8 3.9-0.1l11.7 8.6-4.4-13.7c-0.4-1.4 0.1-2.9 1.2-3.7l11.7-8.6h-14.5c-1.4-0.1-2.6-1-3.1-2.4l-4.5-13.7-4.5 13.7c-0.5 1.4-1.7 2.3-3.1 2.4h-0.1-14.5zm23.8-21z"/>
                    </g>
                  </svg>
                </div>
              <% end %>
              <% (5 - rev.rating).times do %>
                <div class="star">
                  <?xml version="1.0" encoding="UTF-8"?>
                  <svg enable-background="new 0 0 59.5 56.8" version="1.1" viewBox="0 0 59.5 56.8" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                    <g >
                      <path d="m29.5 2.4c0.2-0.5 0.5-0.5 0.6 0l6 18.6c0.2 0.6 0.7 1 1.3 1h19.6c0.6 0 0.6 0.3 0.2 0.6l-15.8 11.5c-0.5 0.4-0.7 1-0.5 1.5l6.1 18.7c0.2 0.5-0.1 0.7-0.5 0.4l-15.9-11.6c-0.5-0.3-1.1-0.3-1.6 0l-15.9 11.6c-0.4 0.3-0.7 0.2-0.5-0.4l6.1-18.7c0.2-0.6 0-1.2-0.5-1.5l-15.9-11.5c-0.5-0.3-0.4-0.6 0.2-0.6h19.6c0.6 0 1.1-0.4 1.3-1l6.1-18.6z"/>
                      <path d="m12.7 56.8c-0.5 0-1-0.2-1.3-0.4-0.6-0.5-1.2-1.4-0.7-2.7l5.9-18.2-15.5-11.3c-1.1-0.8-1.2-1.9-1-2.7s1-1.6 2.4-1.6h19.1l5.9-18.2c0.5-1.2 1.5-1.7 2.3-1.7s1.8 0.5 2.2 1.8l5.9 18.2h19.1c1.4 0 2.1 0.8 2.4 1.5 0.2 0.7 0.1 1.8-1 2.7l-15.5 11.3 5.9 18.2c0.4 1.3-0.1 2.3-0.8 2.7-0.6 0.5-1.7 0.7-2.8-0.2l-15.4-11.2-15.5 11.3c-0.6 0.4-1.1 0.5-1.6 0.5zm1.8-1.9zm30.5 0zm2.6-1.9zm-40-29l11.7 8.5c1.2 0.9 1.6 2.4 1.3 3.7l-4.5 13.8 11.7-8.5c1.2-0.8 2.7-0.8 3.9-0.1l11.7 8.6-4.4-13.7c-0.4-1.4 0.1-2.9 1.2-3.7l11.7-8.6h-14.5c-1.4-0.1-2.6-1-3.1-2.4l-4.5-13.7-4.5 13.7c-0.5 1.4-1.7 2.3-3.1 2.4h-0.1-14.5zm23.8-21z"/>
                    </g>
                  </svg>
                </div>
              <% end %>
            </div>
          </div>
          <div class="review-content">
            <%= rev.comment %>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>

  <% if current_chef != @chef %>
    <div class="submit-holder">
      <input type="submit" class="request-btn" value="Request">
    </div>
  <% end %>

</div>

<script>
  var daysScroll = document.getElementById("daysScroll");
  daysScroll.scrollLeft += 50;
</script>
